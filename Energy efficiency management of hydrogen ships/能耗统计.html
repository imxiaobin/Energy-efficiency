<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>能耗统计</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        /* 基础布局样式 */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            min-height: 100vh;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e9f2 100%);
            gap: 11px;
            padding: 0 11px;
            box-sizing: border-box;
        }

        /* 侧边栏样式 */
        .sidebar {
            background: linear-gradient(135deg, #e8eef9 0%, #d4e2f9 100%);
            color: #2c3e50;
            padding: 25px;
            box-shadow: 2px 0 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            height: calc(100vh - 20px);
            z-index: 1;
            margin: 10px;
            margin-right: 0;
            margin-top: 10px;
            border-radius: 15px;
            position: relative;
            overflow-y: auto;
            width: 220px;
        }

        /* 侧边栏菜单项样式 */
        .sidebar .menu-item h2 {
            display: flex;
            align-items: center;
            font-size: 16px;
            color: #2c3e50;
            margin: 15px 0;
            padding: 12px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.7);
        }

        /* 为每个菜单项添加图标 */
        .sidebar .menu-item h2::before {
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        /* 为每个菜单项添加特定图标 */
        #menuItem0 h2::before {
            content: "\f54b";  /* 船舶图标 */
            color: #3498db;
        }

        #menuItem1 h2::before {
            content: "\f080";  /* 记录图标 */
            color: #2ecc71;
        }

        #menuItem2 h2::before {
            content: "\f0e4";  /* 检测图标 */
            color: #e67e22;
        }

        #menuItem3 h2::before {
            content: "\f5eb";  /* 决策图标 */
            color: #e74c3c;
        }

        #menuItemReportGen h2::before {
            content: "\f15c";  /* 报告图标 */
            color: #9b59b6;
        }

        /* 修改子菜单项样式 */
        .sidebar .menu-item li {
            padding: 10px 15px 10px 45px;
            color: #4a5568;
            transition: all 0.3s ease;
            cursor: pointer;
            border-radius: 6px;
            margin: 2px 0;
            position: relative;
        }

        /* 为子菜单项添加小图标 */
        .sidebar .menu-item li::before {
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            content: "\f105";  /* 箭头图标 */
            position: absolute;
            left: 25px;
            color: rgba(255, 255, 255, 0.5);
        }

        /* 悬停效果 */
        .sidebar .menu-item h2:hover {
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
            transform: translateX(5px);
        }

        .sidebar .menu-item li:hover {
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
            transform: translateX(5px);
        }

        /* 页眉样式 */
        header {
            background: linear-gradient(135deg, #e8eef9 0%, #d4e2f9 100%);
            color: #2c3e50;
            padding: 10px 20px;
            width: 100%;
            display: flex;
            flex-direction: column;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-top: 0;
            margin-bottom: 15px;
            z-index: 1;
            flex-shrink: 0;
        }

        /* 导航栏样式 */
        .navbar {
            display: flex;
            justify-content: flex-end;
            grid-column: 1 / -1;
        }

        .nav-list {
            display: flex;
            list-style: none;
            margin: 5px;
            padding: 10px;
            gap: 20px;
        }

        .nav-item {
            margin: 0;
        }

        .nav-item a {
            color: #2c3e50;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.7);
        }

        .nav-item a:hover {
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
            transform: translateY(-2px);
        }

        /* 主要内容区域样式 */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 20px;
            background-color: #ffffff;
            box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            margin: 10px;
            margin-left: 20px;
            min-width: 0;
        }

        /* 菜单项的子菜单样式 */
        .sidebar .menu-item ul {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        /* 激活状态的菜单项子菜单样式 */
        .sidebar .menu-item.active ul {
            max-height: 500px; /* 设置一个足够大的值以容纳所有子菜单项 */
            transition: max-height 0.5s ease-in;
        }

        /* 子菜单项的基本样式 */
        .sidebar .menu-item ul li {
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.3s ease;
            pointer-events: none;
        }

        /* 激活状态下子菜单项的样式 */
        .sidebar .menu-item.active ul li {
            opacity: 1;
            transform: translateX(0);
            pointer-events: auto;
        }

        /* 添加延迟动画效果 */
        .sidebar .menu-item ul li:nth-child(1) { transition-delay: 0.1s; }
        .sidebar .menu-item ul li:nth-child(2) { transition-delay: 0.15s; }
        .sidebar .menu-item ul li:nth-child(3) { transition-delay: 0.2s; }
        .sidebar .menu-item ul li:nth-child(4) { transition-delay: 0.25s; }
        .sidebar .menu-item ul li:nth-child(5) { transition-delay: 0.3s; }
        .sidebar .menu-item ul li:nth-child(6) { transition-delay: 0.35s; }
        .sidebar .menu-item ul li:nth-child(7) { transition-delay: 0.4s; }

        .filter-panel {
            display: flex;
            gap: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            margin-bottom: 25px;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .filter-item {
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
        }

        .filter-item label {
            font-size: 0.95em;
            color: #495057;
            font-weight: 500;
            min-width: 90px;
        }

        .filter-item select {
            padding: 10px 35px 10px 15px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
            background: white;
            font-size: 0.95em;
            color: #495057;
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            min-width: 160px;
            transition: all 0.3s ease;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236c757d'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 20px;
        }

        .filter-item select:hover {
            border-color: #adb5bd;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .filter-item select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .export-btn {
            margin-left: auto;
            padding: 10px 20px;
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(76, 175, 80, 0.2);
        }

        .export-btn:hover {
            background: linear-gradient(135deg, #45a049 0%, #409444 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);
        }

        .export-btn i {
            font-size: 1.1em;
        }

        .filter-item[for="dateRange"] select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236c757d'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
        }

        .filter-item[for="tankSelect"] select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236c757d'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
        }

        .filter-item[for="stackSelect"] select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236c757d'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
        }

        @media (max-width: 1024px) {
            .filter-panel {
                flex-wrap: wrap;
                gap: 15px;
            }
            
            .filter-item {
                flex: 1 1 calc(50% - 15px);
                min-width: 250px;
            }
            
            .export-btn {
                margin-left: 0;
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 768px) {
            .filter-item {
                flex: 1 1 100%;
            }
        }

        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            align-items: flex-start;
            gap: 15px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .stat-card i {
            font-size: 2em;
            color: #3498db;
            padding: 10px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 8px;
        }

        .stat-info {
            flex: 1;
        }

        .stat-info h3 {
            margin: 0;
            font-size: 0.9em;
            color: #666;
            margin-bottom: 8px;
        }

        .value-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        .stat-info p {
            margin: 0;
            font-size: 1.4em;
            font-weight: bold;
            color: #2c3e50;
            flex-shrink: 0;
        }

        .trend, .sub-info {
            font-size: 0.9em;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 500;
            margin-left: auto;
            align-self: center;
        }

        .trend.up {
            color: #e74c3c;
            background: rgba(231, 76, 60, 0.1);
        }

        .trend.down {
            color: #27ae60;
            background: rgba(39, 174, 96, 0.1);
        }

        .sub-info {
            color: #666;
            background: rgba(52, 152, 219, 0.1);
            white-space: nowrap;
        }

        /* 为不同的卡片设置不同的图标颜色 */
        .stat-card:nth-child(1) i {
            color: #e74c3c;
            background: rgba(231, 76, 60, 0.1);
        }

        .stat-card:nth-child(2) i {
            color: #27ae60;
            background: rgba(39, 174, 96, 0.1);
        }

        .stat-card:nth-child(3) i {
            color: #f1c40f;
            background: rgba(241, 196, 15, 0.1);
        }

        .stat-card:nth-child(4) i {
            color: #9b59b6;
            background: rgba(155, 89, 182, 0.1);
        }

        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
            min-height: 340px; /* 设置最小高度 */
        }

        .chart-wrapper {
            height: 100%; /* 确保图表容器填充整个高度 */
            display: flex;
            flex-direction: column;
        }

        .chart-wrapper h3 {
            margin: 0 0 15px;
            color: #2c3e50;
        }

        /* 数据表格容样式 */
        .data-table-container {
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-top: 20px;
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-header h3 {
            margin: 0;
            color: #2c3e50;
        }

        .toggle-table-btn {
            background: none;
            border: none;
            color: #3498db;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 4px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .toggle-table-btn:hover {
            background: rgba(52, 152, 219, 0.1);
            transform: translateY(-1px);
        }

        .toggle-table-btn i {
            transition: transform 0.3s ease;
        }

        /* 表格内容区域样式 */
        .table-content {
            overflow: hidden;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        /* 添加动画效果 */
        .table-content.show {
            display: block !important;
        }

        .table-content.hide {
            display: none !important;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .data-table th,
        .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .data-table th {
            background: #f8f9fa;
            font-weight: 600;
        }

        .data-table tbody tr:hover {
            background: #f8f9fa;
        }

        /* 在已有样式后添加新的样式 */
        .stat-card .trend {
            font-size: 0.8em;
            margin-top: 5px;
            display: block;
        }

        .trend.up {
            color: #e74c3c;
        }

        .trend.down {
            color: #27ae60;
        }

        .stat-card .sub-info {
            font-size: 0.8em;
            color: #666;
            display: block;
            margin-top: 5px;
        }

        .status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.9em;
        }

        .status.normal {
            background-color: #27ae60;
            color: white;
        }

        .status.warning {
            background-color: #f1c40f;
            color: white;
        }

        .status.error {
            background-color: #e74c3c;
            color: white;
        }

        /* 添加模态框相关样式 */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.show {
            opacity: 1;
        }

        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 1200px;
            max-height: 80vh;
            overflow-y: auto;
            z-index: 10000;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .modal-content.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .modal-header h3 {
            margin: 0;
            color: #2c3e50;
        }

        .modal-close {
            background: none;
            border: none;
            color: #666;
            font-size: 1.5em;
            cursor: pointer;
            padding: 5px;
            transition: color 0.3s ease;
        }

        .modal-close:hover {
            color: #e74c3c;
        }

        /* 修改表格样式以适应模态框 */
        .modal-content .data-table {
            width: 100%;
            margin-top: 0;
        }

        .modal-content .data-table th {
            position: sticky;
            top: 0;
            background: #f8f9fa;
            z-index: 1;
        }
    </style>
</head>
<body>
    <!-- 侧边栏 -->
    <div class="sidebar">
        <div class="menu-item" id="menuItem0">
            <h2>船舶管理</h2>
            <ul id="menu0">
                <li onclick="window.location.href='船舶信息管理.html'">船舶信息</li>
            </ul>
        </div>

        <div class="menu-item" id="menuItem1">
            <h2>信息记录</h2>
            <ul id="menu1">
                <li onclick="window.location.href='日报记录.html'">日报记录</li>
                <li onclick="window.location.href='航次记录.html'">航次记录</li>
                <li onclick="window.location.href='储罐记录.html'">储氢罐记录</li>
                <li onclick="window.location.href='加氢记录.html'">加氢记录</li>
                <li onclick="window.location.href='在线监测记录.html'">在线监测记录</li>
            </ul>
        </div>
        
        <div class="menu-item" id="menuItem2">
            <h2>能效分析</h2>
            <ul id="menu2">
                <li onclick="window.location.href='能耗统计.html'">能耗统计</li>
                <li onclick="window.location.href='性能分析.html'">性能分析</li>
                <li onclick="window.location.href='能效计算器.html'">能效计算器</li>
                <li onclick="window.location.href='能效提升预测.html'">能效提升预测</li>
            </ul>
        </div>
        
        <div class="menu-item" id="menuItem3">
            <h2>报表管理</h2>
            <ul id="menu3">
                <li onclick="window.location.href='能耗记录表.html'">能耗记录表</li>
                <li onclick="window.location.href='能效管理计划.html'">能效管理计划</li>
                <li onclick="window.location.href='自定义报表.html'">自定义报表</li>
            </ul>
        </div>
        
        <div class="menu-item" id="menuItemReportGen">
            <h2>在职人员管理</h2>
            <ul id="reportGen">
                <li onclick="window.location.href='在职人员信息.html'">在职人员信息</li>
                <li onclick="window.location.href='当值记录表.html'">当值记录表</li>
            </ul>
        </div>
    </div>

    <!-- 主要内容区域 -->
    <div class="main-content">
        <!-- 页眉 -->
        <header>
            <div class="header-content">
                <nav class="navbar">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" title="首页">
                                <i class="fas fa-home"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" title="据分析">
                                <i class="fas fa-chart-line"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" title="设置">
                                <i class="fas fa-cog"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" title="用户">
                                <i class="fas fa-user"></i>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- 修改筛选控制面板 -->
        <div class="filter-panel">
            <div class="filter-item">
                <label for="dateRange">时间范围：</label>
                <select id="dateRange">
                    <option value="day">今日</option>
                    <option value="week">本周</option>
                    <option value="month">本月</option>
                    <option value="custom">自定义</option>
                </select>
            </div>
            <div class="filter-item">
                <label for="tankSelect">储氢罐选择：</label>
                <select id="tankSelect" onchange="updateDisplayData()">
                    <option value="all">全部储氢罐</option>
                    <option value="tank1">1号储氢罐</option>
                    <option value="tank2">2号储氢罐</option>
                    <option value="tank3">3号储氢罐</option>
                    <option value="tank4">4号储氢罐</option>
                </select>
            </div>
            <div class="filter-item">
                <label for="stackSelect">电堆选择：</label>
                <select id="stackSelect" onchange="updateDisplayData()">
                    <option value="all">全部电堆</option>
                    <option value="stack1">1号电堆</option>
                    <option value="stack2">2号电堆</option>
                </select>
            </div>
            <button class="export-btn">
                <i class="fas fa-download"></i> 导出数据
            </button>
        </div>

        <!-- 修改数据概览卡片部分 -->
        <div class="stats-cards">
            <div class="stat-card">
                <i class="fas fa-burn"></i>
                <div class="stat-info">
                    <h3>氢燃料耗量</h3>
                    <div class="value-container">
                        <p>125.6 kg</p>
                        <span class="trend up">↑ 2.3%</span>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-battery-three-quarters"></i>
                <div class="stat-info">
                    <h3>燃料电池效率</h3>
                    <div class="value-container">
                        <p>56.8%</p>
                        <span class="trend down">↓ 1.2%</span>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-gas-pump"></i>
                <div class="stat-info">
                    <h3>储氢罐压力</h3>
                    <div class="value-container">
                        <p>35 MPa</p>
                        <span class="sub-info">剩余容量: 75%</span>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <i class="fas fa-temperature-high"></i>
                <div class="stat-info">
                    <h3>电堆温度</h3>
                    <div class="value-container">
                        <p>65 °C</p>
                        <span class="sub-info">正常范围</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 添加新的图表区域 -->
        <div class="charts-container">
            <div class="chart-wrapper">
                <h3>氢能消耗趋势</h3>
                <div id="consumptionTrendChart" style="height: 300px;"></div>
            </div>
            <div class="chart-wrapper">
                <h3>动力系统分析</h3>
                <div id="efficiencyChart" style="height: 300px;"></div>
            </div>
        </div>

        <div class="charts-container">
            <div class="chart-wrapper">
                <h3>氢能利用分布</h3>
                <div id="consumptionDistributionChart" style="height: 300px;"></div>
            </div>
            <div class="chart-wrapper">
                <h3>关键参数监测</h3>
                <div id="parameterMonitorChart" style="height: 300px;"></div>
            </div>
        </div>

        <!-- 修改数据表格容器部分，移除表格内容区域，只保留标题和按 -->
        <div class="data-table-container">
            <div class="table-header">
                <h3>氢能系统运行数据</h3>
                <button class="toggle-table-btn">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuItems = document.querySelectorAll('.menu-item');
            
            // 为每个菜单项添加点击事件
            menuItems.forEach(item => {
                const title = item.querySelector('h2');
                if (title) {
                    title.addEventListener('click', (e) => {
                        e.stopPropagation();
                        toggleMenu(item);
                    });
                }
            });
        });

        function toggleMenu(menuItem) {
            const isActive = menuItem.classList.contains('active');
            
            // 关闭所有其他打开的菜单
            document.querySelectorAll('.menu-item').forEach(item => {
                if (item !== menuItem) {
                    item.classList.remove('active');
                    const subMenu = item.querySelector('ul');
                    if (subMenu) {
                        subMenu.style.maxHeight = '0';
                    }
                }
            });

            // 切换当前菜单的状态
            if (!isActive) {
                menuItem.classList.add('active');
                const subMenu = menuItem.querySelector('ul');
                if (subMenu) {
                    subMenu.style.maxHeight = subMenu.scrollHeight + 'px';
                }
            } else {
                menuItem.classList.remove('active');
                const subMenu = menuItem.querySelector('ul');
                if (subMenu) {
                    subMenu.style.maxHeight = '0';
                }
            }
        }
    </script>

    <!-- 在 </body> 标签前添加 ECharts 依赖和初始化脚本 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script>
        // 修改图表初始化脚本
        function initTrendChart(chart) {
            const option = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross'
                    }
                },
                legend: {
                    data: ['氢耗量', '输出功率']
                },
                grid: {
                    right: '15%'
                },
                xAxis: {
                    type: 'category',
                    data: ['00:00', '03:00', '06:00', '09:00', '12:00', '15:00', '18:00', '21:00']
                },
                yAxis: [
                    {
                        type: 'value',
                        name: '氢耗量(kg/h)',
                        position: 'left'
                    },
                    {
                        type: 'value',
                        name: '输出功率(kW)',
                        position: 'right'
                    }
                ],
                series: [
                    {
                        name: '氢耗量',
                        type: 'line',
                        smooth: true,
                        data: [5, 7, 12, 15, 10, 8, 6, 4],
                        itemStyle: {
                            color: '#3498db'
                        }
                    },
                    {
                        name: '输出功率',
                        type: 'line',
                        smooth: true,
                        yAxisIndex: 1,
                        data: [100, 150, 200, 180, 160, 140, 120, 90],
                        itemStyle: {
                            color: '#e74c3c'
                        }
                    }
                ]
            };
            chart.setOption(option);
        }

 // 初始化效率图表
        function initEfficiencyChart(chart) {
            // 获取效率图表的DOM元素
            const option = {
                // 设置提示框
                tooltip: {
                    // 设置触发类型为坐标轴
                    trigger: 'axis',
                    // 设置提示框的格式化函数
                    formatter: function(params) {
                        // 定义提示框的内容
                        let result = params[0].axisValue + '<br/>';
                        // 遍历参数数组
                        params.forEach(param => {
                            // 添加百分号到数值后面
                            result += param.marker + param.seriesName + ': ' + param.value + '%<br/>';
                        });
                        // 返回提示框的内容
                        return result;
                    }
                },
                legend: {
                    data: ['氢燃料电池效率', '蓄电池效率', '系统总效率']
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: ['00:00', '03:00', '06:00', '09:00', '12:00', '15:00', '18:00', '21:00']
                },
                yAxis: {
                    type: 'value',
                    name: '效率(%)',
                    min: 30,
                    max: 100,
                    interval: 10,
                    axisLabel: {
                        formatter: '{value}%'
                    }
                },
                series: [
                    {
                        name: '氢燃料电池效率',
                        type: 'line',
                        smooth: true,
                        data: [55, 58, 60, 57, 56, 58, 57, 55],
                        itemStyle: {
                            color: '#27ae60'  // 绿色
                        },
                        lineStyle: {
                            width: 3
                        },
                        emphasis: {
                            focus: 'series'
                        }
                    },
                    {
                        name: '蓄电池效率',
                        type: 'line',
                        smooth: true,
                        data: [82, 83, 85, 84, 82, 83, 84, 82],
                        itemStyle: {
                            color: '#3498db'  // 蓝色
                        },
                        lineStyle: {
                            width: 3
                        },
                        emphasis: {
                            focus: 'series'
                        }
                    },
                    {
                        name: '系统总效率',
                        type: 'line',
                        smooth: true,
                        data: [45, 47, 48, 46, 45, 46, 47, 45],
                        itemStyle: {
                            color: '#f1c40f'  // 黄色
                        },
                        lineStyle: {
                            width: 3,
                            type: 'dashed'  // 使用虚线表示总效率
                        },
                        emphasis: {
                            focus: 'series'
                        }
                    }
                ]
            };
            chart.setOption(option);
        }

        function initParameterMonitorChart(chart) {
            const option = {
                title: [
                    {
                        text: '航行速度监测',
                        left: '8%',
                        top: '5%',
                        textStyle: {
                            fontSize: 14,
                            fontWeight: 'normal',
                            color: '#2c3e50'
                        },
                        backgroundColor: 'rgba(255, 255, 255, 0.8)',
                        borderRadius: 4,
                        padding: [5, 10]
                    },
                    {
                        text: '船舶姿态监测',
                        left: '75%',
                        top: '2%',
                        textStyle: {
                            fontSize: 14,
                            fontWeight: 'normal'
                        }
                    },
                    {
                        text: '货物装载监测',
                        left: 'center',
                        top: '58%',
                        textStyle: {
                            fontSize: 14,
                            fontWeight: 'normal'
                        }
                    }
                ],
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross'
                    }
                },
                grid: [
                    {
                        left: '15%',
                        right: '52%',
                        top: '25%',
                        height: '25%'
                    },
                    {
                        left: '52%',
                        right: '5%',
                        top: '25%',
                        height: '25%'
                    },
                    {
                        left: '15%',
                        right: '5%',
                        top: '68%',
                        height: '25%'
                    }
                ],
                legend: [
                    {
                        data: ['船速', '风速', '水流速度'],
                        left: '-1%',
                        top: '15%',
                        orient: 'vertical',
                        textStyle: {
                            fontSize: 12,
                            color: '#666'
                        },
                        itemGap: 10,
                        itemWidth: 15,
                        itemHeight: 15,
                        icon: 'roundRect',
                        textGap: 8,
                        formatter: function(name) {
                            return name + ' (kn)';
                        },
                        backgroundColor: 'rgba(255, 255, 255, 0.8)',
                        padding: [5, 10],
                        borderRadius: 4
                    },
                    {
                        data: ['横倾角', '纵倾角'],
                        left: '75%',
                        top: '8%',
                        textStyle: {
                            fontSize: 12
                        },
                        itemGap: 10
                    }
                ],
                xAxis: [
                    {
                        type: 'category',
                        data: ['00:00', '03:00', '06:00', '09:00', '12:00', '15:00', '18:00', '21:00'],
                        gridIndex: 0,
                        axisLabel: {
                            fontSize: 10
                        }
                    },
                    {
                        type: 'category',
                        data: ['00:00', '03:00', '06:00', '09:00', '12:00', '15:00', '18:00', '21:00'],
                        gridIndex: 1,
                        axisLabel: {
                            fontSize: 10
                        }
                    },
                    {
                        type: 'category',
                        data: ['1号舱', '2号舱', '3号舱', '4号舱'],
                        gridIndex: 2,
                        axisLabel: {
                            fontSize: 10
                        }
                    }
                ],
                yAxis: [
                    {
                        type: 'value',
                        name: '速度(kn)',
                        nameTextStyle: {
                            fontSize: 10,
                            padding: [0, 0, 0, -20]
                        },
                        gridIndex: 0,
                        splitLine: {
                            show: false
                        },
                        axisLabel: {
                            fontSize: 10
                        },
                        axisLine: {
                            show: true
                        }
                    },
                    {
                        type: 'value',
                        name: '角度(°)',
                        nameTextStyle: {
                            fontSize: 10,
                            padding: [0, 0, 0, -30]
                        },
                        gridIndex: 1,
                        splitLine: {
                            show: false
                        },
                        axisLabel: {
                            fontSize: 10
                        }
                    },
                    {
                        type: 'value',
                        name: '装载量(t)',
                        nameTextStyle: {
                            fontSize: 10,
                            padding: [0, 0, 0, -30]
                        },
                        gridIndex: 2,
                        splitLine: {
                            show: false
                        },
                        axisLabel: {
                            fontSize: 10
                        }
                    }
                ],
                series: [
                    {
                        name: '船速',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 6,
                        data: [12, 11.5, 12.5, 12.8, 12.3, 11.8, 12.1, 12.4],
                        itemStyle: { 
                            color: '#3498db',
                            borderWidth: 2
                        },
                        lineStyle: {
                            width: 2
                        },
                        xAxisIndex: 0,
                        yAxisIndex: 0
                    },
                    {
                        name: '风速',
                        type: 'line',
                        smooth: true,
                        symbol: 'triangle',
                        symbolSize: 6,
                        data: [15, 16, 14, 15, 17, 16, 15, 14],
                        itemStyle: { 
                            color: '#95a5a6',
                            borderWidth: 2
                        },
                        lineStyle: {
                            width: 2
                        },
                        xAxisIndex: 0,
                        yAxisIndex: 0
                    },
                    {
                        name: '水流速度',
                        type: 'line',
                        smooth: true,
                        symbol: 'diamond',
                        symbolSize: 6,
                        data: [3.2, 3.5, 3.1, 3.3, 3.6, 3.4, 3.2, 3.0],
                        itemStyle: { 
                            color: '#1abc9c',
                            borderWidth: 2
                        },
                        lineStyle: {
                            width: 2
                        },
                        xAxisIndex: 0,
                        yAxisIndex: 0
                    },
                    {
                        name: '横倾角',
                        type: 'bar',
                        barWidth: '20%',
                        data: [2.1, 2.3, 2.0, 1.8, 2.2, 2.4, 2.1, 1.9],
                        itemStyle: {
                            color: '#e74c3c',
                            opacity: 0.8
                        },
                        xAxisIndex: 1,
                        yAxisIndex: 1
                    },
                    {
                        name: '纵倾角',
                        type: 'bar',
                        barWidth: '20%',
                        data: [1.5, 1.6, 1.4, 1.3, 1.5, 1.7, 1.6, 1.4],
                        itemStyle: {
                            color: '#2ecc71',
                            opacity: 0.8
                        },
                        xAxisIndex: 1,
                        yAxisIndex: 1
                    },
                    {
                        name: '货物装载量',
                        type: 'bar',
                        barWidth: '25%',
                        data: [
                            {
                                value: 150,
                                itemStyle: {
                                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                        { offset: 0, color: '#83bff6' },
                                        { offset: 0.5, color: '#188df0' },
                                        { offset: 1, color: '#188df0' }
                                    ])
                                }
                            },
                            {
                                value: 145,
                                itemStyle: {
                                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                        { offset: 0, color: '#83bff6' },
                                        { offset: 0.5, color: '#188df0' },
                                        { offset: 1, color: '#188df0' }
                                    ])
                                }
                            },
                            {
                                value: 160,
                                itemStyle: {
                                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                        { offset: 0, color: '#83bff6' },
                                        { offset: 0.5, color: '#188df0' },
                                        { offset: 1, color: '#188df0' }
                                    ])
                                }
                            },
                            {
                                value: 140,
                                itemStyle: {
                                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                        { offset: 0, color: '#83bff6' },
                                        { offset: 0.5, color: '#188df0' },
                                        { offset: 1, color: '#188df0' }
                                    ])
                                }
                            }
                        ],
                        xAxisIndex: 2,
                        yAxisIndex: 2,
                        label: {
                            show: true,
                            position: 'top',
                            fontSize: 12,
                            color: '#666'
                        }
                    }
                ]
            };
            chart.setOption(option);
        }

        // 修改页面加载初始化函数
        document.addEventListener('DOMContentLoaded', function() {
            // 声明全局变量存储图表实例
            window.chartInstances = {
                trendChart: null,
                efficiencyChart: null,
                distributionChart: null,
                parameterChart: null
            };

            // 初始化所有图表
            function initAllCharts() {
                // 初始化趋势图表
                chartInstances.trendChart = echarts.init(document.getElementById('consumptionTrendChart'));
                initTrendChart(chartInstances.trendChart);

                // 初始化效率图表
                chartInstances.efficiencyChart = echarts.init(document.getElementById('efficiencyChart'));
                initEfficiencyChart(chartInstances.efficiencyChart);

                // 初始化分布图表
                chartInstances.distributionChart = echarts.init(document.getElementById('consumptionDistributionChart'));
                initDistributionChart(chartInstances.distributionChart);

                // 初始化参数监测图表
                chartInstances.parameterChart = echarts.init(document.getElementById('parameterMonitorChart'));
                initParameterMonitorChart(chartInstances.parameterChart);
            }

            // 初始化图表
            initAllCharts();

            // 初始化数据显示
            updateDisplayData();

            // 添加选择器变化事件监听
            document.getElementById('tankSelect').addEventListener('change', updateDisplayData);
            document.getElementById('stackSelect').addEventListener('change', updateDisplayData);

            // 添加窗口大小变化监听
            window.addEventListener('resize', function() {
                Object.values(chartInstances).forEach(chart => {
                    if (chart) {
                        chart.resize();
                    }
                });
            });
        });
    </script>

    <!-- 添加数据更新相关的脚本 -->
    <script>
    // 修改模拟数据存储结构，添加全部选项的数据
    const mockData = {
        tanks: {
            all: {
                pressure: 34.5,  // 所有储氢罐的平均压力
                capacity: 74,    // 所有储氢罐的平均容量
                consumption: 49.6 // 所有储氢罐的总消耗量
            },
            tank1: {
                pressure: 35,
                capacity: 75,
                consumption: 12.5
            },
            tank2: {
                pressure: 33,
                capacity: 68,
                consumption: 11.8
            },
            tank3: {
                pressure: 36,
                capacity: 82,
                consumption: 13.2
            },
            tank4: {
                pressure: 34,
                capacity: 71,
                consumption: 12.1
            }
        },
        stacks: {
            all: {
                temperature: 64,    // 所有电堆的平均温度
                efficiency: 57,     // 所有电堆的平均效率
                voltage: 377.5,     // 所有电堆的平均电压
                current: 395        // 所有电堆的总电流
            },
            stack1: {
                temperature: 65,
                efficiency: 56.8,
                voltage: 380,
                current: 200
            },
            stack2: {
                temperature: 63,
                efficiency: 57.2,
                voltage: 375,
                current: 195
            }
        }
    };

    // 更新数据卡片的函数
    function updateDataCards(tankId, stackId) {
        const tankData = mockData.tanks[tankId];
        const stackData = mockData.stacks[stackId];
        
        // 更新储氢罐相关数据
        if (tankData) {
            // 更新氢燃料消耗量
            const consumptionCard = document.querySelector('.stat-card:nth-child(1)');
            consumptionCard.querySelector('p').textContent = `${tankData.consumption} kg`;
            
            // 更新储氢罐压力和容量
            const pressureCard = document.querySelector('.stat-card:nth-child(3)');
            pressureCard.querySelector('p').textContent = `${tankData.pressure} MPa`;
            pressureCard.querySelector('.sub-info').textContent = `剩余容量: ${tankData.capacity}%`;
        }
        
        // 更新电堆相关数据
        if (stackData) {
            // 更新燃料电池效率
            const efficiencyCard = document.querySelector('.stat-card:nth-child(2)');
            efficiencyCard.querySelector('p').textContent = `${stackData.efficiency}%`;
            
            // 更新电堆温度
            const temperatureCard = document.querySelector('.stat-card:nth-child(4)');
            temperatureCard.querySelector('p').textContent = `${stackData.temperature} °C`;
        }
    }

    // 更新图表数据的函数
    function updateCharts(tankId, stackId) {
        const tankData = mockData.tanks[tankId];
        const stackData = mockData.stacks[stackId];
        
        // 更新趋势图表
        if (chartInstances.trendChart) {
            const trendOption = chartInstances.trendChart.getOption();
            trendOption.series[0].data = generateTrendData(tankData.consumption);
            trendOption.series[1].data = generatePowerData(stackData.voltage, stackData.current);
            chartInstances.trendChart.setOption(trendOption);
        }
        
        // 更新效率图表
        if (chartInstances.efficiencyChart) {
            const efficiencyOption = chartInstances.efficiencyChart.getOption();
            if (stackId === 'all') {
                efficiencyOption.series[0].data = generateEfficiencyData(stackData.efficiency);
                efficiencyOption.series[1].data = generateBatteryEfficiencyData();
                efficiencyOption.series[2].data = generateTotalEfficiencyData();
            } else {
                efficiencyOption.series[0].data = generateEfficiencyData(stackData.efficiency, true);
                efficiencyOption.series[1].data = generateBatteryEfficiencyData(true);
                efficiencyOption.series[2].data = generateTotalEfficiencyData(true);
            }
            chartInstances.efficiencyChart.setOption(efficiencyOption);
        }
        
        // 更新参数监测图表
        if (chartInstances.parameterChart) {
            const parameterOption = chartInstances.parameterChart.getOption();
            // ... 更新参数监测图表的数据 ...
            chartInstances.parameterChart.setOption(parameterOption);
        }
    }

    // 生成趋势数据的辅助函数
    function generateTrendData(baseValue) {
        return Array(8).fill(0).map((_, i) => {
            return baseValue * (0.8 + Math.random() * 0.4);
        });
    }

    // 生成功率数据的辅助函数
    function generatePowerData(voltage, current) {
        return Array(8).fill(0).map((_, i) => {
            return (voltage * current / 1000) * (0.9 + Math.random() * 0.2);
        });
    }

    // 生成效率数据的辅助函数
    function generateEfficiencyData(baseEfficiency, isSingle = false) {
        return Array(8).fill(0).map((_, i) => {
            const variation = isSingle ? 2 : 3;
            return baseEfficiency + (Math.random() - 0.5) * variation;
        });
    }

    // 生成温度数据的辅助函数
    function generateTemperatureData(baseTemp) {
        return Array(8).fill(0).map((_, i) => {
            return baseTemp + (Math.random() - 0.5) * 4;
        });
    }

    // 生成压力数据的辅助函数
    function generatePressureData(basePressure) {
        return Array(8).fill(0).map((_, i) => {
            return basePressure - i * 0.5 + (Math.random() - 0.5) * 0.2;
        });
    }

    // 更新数据表格的函数
    function updateDataTable(tankId, stackId) {
        const tableBody = document.getElementById('consumptionTableBody');
        const tankData = mockData.tanks[tankId];
        const stackData = mockData.stacks[stackId];
        
        // 清空现有表格数据
        tableBody.innerHTML = '';
        
        // 生成新的表格数据
        const times = ['10:00', '11:00', '12:00', '13:00', '14:00', '15:00'];
        times.forEach(time => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>2024-03-20 ${time}</td>
                <td>${(tankData.consumption * (0.9 + Math.random() * 0.2)).toFixed(1)}</td>
                <td>${(stackData.efficiency + (Math.random() - 0.5) * 2).toFixed(1)}</td>
                <td>${(tankData.pressure - Math.random()).toFixed(1)}</td>
                <td>${(stackData.temperature + (Math.random() - 0.5) * 2).toFixed(1)}</td>
                <td>${Math.round(stackData.voltage * stackData.current / 1000)}</td>
                <td><span class="status normal">正常</span></td>
            `;
            tableBody.appendChild(row);
        });
    }

    // 添加主更新函数
    function updateDisplayData() {
        const selectedTank = document.getElementById('tankSelect').value;
        const selectedStack = document.getElementById('stackSelect').value;
        
        // 更新数据卡片
        updateDataCards(selectedTank, selectedStack);
        
        // 更新图表
        updateCharts(selectedTank, selectedStack);
        
        // 更新数据表格
        updateDataTable(selectedTank, selectedStack);
    }

    // 添加缺失的辅助函数
    function generateBatteryEfficiencyData(isSingle = false) {
        const baseEfficiency = isSingle ? 82 : 83;
        return Array(8).fill(0).map((_, i) => {
            return baseEfficiency + (Math.random() - 0.5) * 3;
        });
    }

    function generateTotalEfficiencyData(isSingle = false) {
        const baseEfficiency = isSingle ? 45 : 46;
        return Array(8).fill(0).map((_, i) => {
            return baseEfficiency + (Math.random() - 0.5) * 2;
        });
    }

    function generateFlowData(baseConsumption) {
        return Array(8).fill(0).map((_, i) => {
            return baseConsumption * 10 * (0.9 + Math.random() * 0.2);
        });
    }

    function generateVoltageData(baseVoltage) {
        return Array(8).fill(0).map((_, i) => {
            return baseVoltage * (0.98 + Math.random() * 0.04);
        });
    }

    function generateCurrentData(baseCurrent) {
        return Array(8).fill(0).map((_, i) => {
            return baseCurrent * (0.95 + Math.random() * 0.1);
        });
    }

    // 修改 initDistributionChart 函数
    function initDistributionChart(chart) {
        const option = {
            tooltip: {
                trigger: 'item',
                formatter: '{a} <br/>{b}: {c} ({d}%)'
            },
            legend: {
                orient: 'vertical',
                left: 'left',
                data: ['推进系统', '辅助系统', '电力系统', '其他系统']
            },
            series: [
                {
                    name: '能耗分布',
                    type: 'pie',
                    radius: ['50%', '70%'],
                    avoidLabelOverlap: false,
                    label: {
                        show: true,
                        position: 'outside',
                        formatter: '{b}: {d}%'
                    },
                    emphasis: {
                        label: {
                            show: true,
                            fontSize: '16',
                            fontWeight: 'bold'
                        }
                    },
                    data: [
                        {value: 45, name: '推进系统'},
                        {value: 25, name: '辅助系统'},
                        {value: 20, name: '电力系统'},
                        {value: 10, name: '其他系统'}
                    ]
                }
            ]
        };
        chart.setOption(option);
    }

    // 修改事件监听器，确保所有图表都被正确初始化
    document.addEventListener('DOMContentLoaded', function() {
        // 初始化所有图表
        initTrendChart();
        initEfficiencyChart();
        initDistributionChart();
        initParameterMonitorChart();
        
        // 初始化数据显示
        updateDisplayData();
        
        // 添加选择器变化事件监听
        document.getElementById('tankSelect').addEventListener('change', function() {
            updateDisplayData();
        });
        
        document.getElementById('stackSelect').addEventListener('change', function() {
            updateDisplayData();
        });
        
        // 添加窗口大小变化监听
        window.addEventListener('resize', function() {
            const charts = [
                'consumptionTrendChart',
                'efficiencyChart',
                'consumptionDistributionChart',
                'parameterMonitorChart'
            ].map(id => echarts.getInstanceByDom(document.getElementById(id)));
            
            charts.forEach(chart => {
                if (chart) {
                    chart.resize();
                }
            });
        });
    });

    document.addEventListener('DOMContentLoaded', function() {
        const toggleBtn = document.querySelector('.toggle-table-btn');
        const modalOverlay = document.querySelector('.modal-overlay');
        const modalContent = document.querySelector('.modal-content');
        const modalClose = document.querySelector('.modal-close');
        const modalTableBody = document.getElementById('modalTableBody');

        // 点击按钮只打开模态框
        toggleBtn.addEventListener('click', function() {
            const selectedTank = document.getElementById('tankSelect').value;
            const selectedStack = document.getElementById('stackSelect').value;
            const tankData = mockData.tanks[selectedTank];
            const stackData = mockData.stacks[selectedStack];
            
            // 更新模态框数据
            updateModalTableData(tankData, stackData);
            
            // 显示模态框
            modalOverlay.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            setTimeout(() => {
                modalOverlay.classList.add('show');
                modalContent.classList.add('show');
            }, 10);
        });

        // 关闭模态框
        function closeModal() {
            modalOverlay.classList.remove('show');
            modalContent.classList.remove('show');
            
            setTimeout(() => {
                modalOverlay.style.display = 'none';
                document.body.style.overflow = '';
            }, 300);
        }

        // 点击关闭按钮
        modalClose.addEventListener('click', closeModal);

        // 点击遮罩层关闭
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeModal();
            }
        });

        // ESC键关闭
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modalOverlay.style.display === 'block') {
                closeModal();
            }
        });

        // 更新模态框表格数据
        function updateModalTableData(tankData, stackData) {
            modalTableBody.innerHTML = '';
            
            const times = ['10:00', '11:00', '12:00', '13:00', '14:00', '15:00'];
            times.forEach(time => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>2024-03-20 ${time}</td>
                    <td>${(tankData.consumption * (0.9 + Math.random() * 0.2)).toFixed(1)}</td>
                    <td>${(stackData.efficiency + (Math.random() - 0.5) * 2).toFixed(1)}</td>
                    <td>${(tankData.pressure - Math.random()).toFixed(1)}</td>
                    <td>${(stackData.temperature + (Math.random() - 0.5) * 2).toFixed(1)}</td>
                    <td>${Math.round(stackData.voltage * stackData.current / 1000)}</td>
                    <td><span class="status normal">正常</span></td>
                `;
                modalTableBody.appendChild(row);
            });
        }
    });
    </script>

    <!-- 添加模态框结构 -->
    <div class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>氢能系统运行数据</h3>
                <button class="modal-close">×</button>
            </div>
            <div class="modal-body">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>时间</th>
                            <th>氢耗量(kg/h)</th>
                            <th>燃料电池效率(%)</th>
                            <th>储氢罐压力(MPa)</th>
                            <th>电堆温度(°C)</th>
                            <th>输出功率(kW)</th>
                            <th>系统状态</th>
                        </tr>
                    </thead>
                    <tbody id="modalTableBody">
                        <!-- 数据将通过 JavaScript 动态填充 -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
</html>
